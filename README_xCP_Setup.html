<html>

<head>
  <style>
    body {
      color: #444;
      font-family: "Open Sans", "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 1em;
      line-height: 1.5em;
      padding: 1em;
      margin: auto;
      max-width: 56em;
      background: #fefefe;
    }

    a, a:visited {
      color: #0645ad;
      text-decoration: none;
    }

    a:hover {
      color: #06e;
    }

    a:active {
      color: #faa700;
    }

    a:focus {
      outline: thin dotted;
    }

    a:hover, a:active {
      outline: 0;
    }

    ::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000
    }

    ::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000
    }

    a::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad
    }

    a::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad
    }

    hr {
      display: block;
      height: 1px;
      border: 0;
      border-top: 1px solid #0aa;
      border-bottom: 1px solid #0ff;
      margin: 2em 0;
      padding: 0;
    }

    p {
      margin: 1em 0;
    }

    h1, h2, h3 {
      font-weight: normal;
      color: #077;
      line-height: 1em;
    }

    h1 {
      font-size: 2.5em;
    }

    h2 {
      font-size: 2em;
    }

    h3 {
      font-size: 1.5em;
    }

    code {
      color: #000;
      font-family: monospace, monospace;
      _font-family: 'courier new', monospace;
      font-size: 0.95em;
    }

    ul, ol {
      margin: 1em 0;
      padding: 0 0 0 2em;
    }

    li p:last-child {
      margin: 0
    }

    table {
      border-collapse: collapse;
      border-spacing: 0;
      font-size: inherit;
      width: 100%;
    }

    th {
      background-color: #dff;
    }

    th, td {
      text-align: left;
      border: 1px solid #8aa;
      vertical-align: top;
      padding: 7px 12px;
    }
  </style>
</head>

<body>

  <h1>xCP Docker Images</h1>
  <p>This document desribes the details of the Docker images for xCP. Following is the list of images:</p>
  <ul>
    <li><a href="#xcp-apphost">xcp-apphost</a></li>
    <li><a href="#xcp-bam">xcp-bam</a></li>
    <li><a href="#xcp-bps">xcp-bps</a></li>
    <li><a href="#xcp-xda">xcp-xda</a></li>
    <li><a href="#xcp-xda-tools">xcp-xda-tools</a></li>
    <li><a href="#xcp-cs-setup">xcp-cs-setup</a></li>
  </ul>

  <hr/>
  <h2 id="xcp-apphost">xcp-apphost</h2>

  <h3>Description</h3>
  <p>This image is used to run the web container that will host the xCP application WAR. It uses following base software:</p>
  <ul>
    <li>CentOS 7</li>
    <li>Oracle JRE 8</li>
    <li>Apache Tomcat 8.0.x</li>
  </ul>
  <p>The exact version of each of the above matches the one supported by the patch version of xCP Docker image.</p>

  <h3>Ports</h3>
  <table>
    <thead>
      <tr>
        <th>Port</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>8080</code></td>
        <td>HTTP port for application server</td>
      </tr>
      <tr>
        <td><code>8443</code></td>
        <td>HTTPS port for application server. This will be exposed only if SSL configuration related environment variables are provided</td>
      </tr>
    </tbody>
  </table>

  <h3>Volumes</h3>
  <table>
    <thead>
      <tr>
        <th>Path</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td>Stores the configuration files like <code>dfc.properties</code>, etc.</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/ctsws_config</code></td>
        <td>Stores the configuration files for interacting with CTS</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/logs</code></td>
        <td>Stores the log files generated by the app server</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/webapps</code></td>
        <td>Stores the WAR files deployed from xCP Designer</td>
      </tr>
    </tbody>
  </table>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>DOCBASE_NAME</code></td>
        <td>Yes</td>
        <td><code>repo</code></td>
        <td>Name of the docbase repository</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_HOST</code></td>
        <td>Yes</td>
        <td><code>cs</code></td>
        <td>Hostname or IP address of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_PORT</code></td>
        <td>Yes</td>
        <td><code>1489</code></td>
        <td>Port of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_USER</code></td>
        <td>Yes</td>
        <td><code>dm_bof_registry</code></td>
        <td>Global registry user name</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Global registry user password. This can be either plaintext or encrypted</td>
      </tr>
      <tr>
        <td><code>BAM_SERVER_PROTOCOL</code></td>
        <td>Yes</td>
        <td><code>http</code></td>
        <td>Protocol to connect to the BAM server</td>
      </tr>
      <tr>
        <td><code>BAM_SERVER_HOST</code></td>
        <td>Yes</td>
        <td><code>bam</code></td>
        <td>Hostname or IP address of the BAM server</td>
      </tr>
      <tr>
        <td><code>BAM_SERVER_PORT</code></td>
        <td>Yes</td>
        <td><code>8080</code></td>
        <td>Port of the BAM server</td>
      </tr>
      <tr>
        <td><code>BAM_SERVER_CONTEXT</code></td>
        <td>Yes</td>
        <td><code>bam-server</code></td>
        <td>Context root of BAM server application WAR</td>
      </tr>
      <tr>
        <td><code>CTS_ADMIN_DOMAIN</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Domain of the administrator user for CTS server</td>
      </tr>
      <tr>
        <td><code>CTS_ADMIN_USER</code></td>
        <td>Yes</td>
        <td><code>admin</code></td>
        <td>Administrator user name for CTS server</td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_USER</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator user name to be used for Tomcat. No admin user will be added if this is left blank</td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator password to be used for Tomcat. No admin user will be added if this is left blank. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true to enable SSL. If enabled, then you must at least provide values for <code>SSL_KEY_STORE_FILE</code> and <code>SSL_KEY_STORE_PWD</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_FILE</code></td>
        <td>Yes</td>
        <td></td>
        <td>Keystore file for SSL. This file must be placed inside the volume that maps to <code>/opt/tomcat/CustomConf</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Password for the keystore. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_ALIAS</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If keystore contains multiple keys, then this variable should be specified to indicate the Alias for key to be used</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If key alias is provided, then the password for the same. If this is left blank, then key alias configuration is ignored. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_TYPE</code></td>
        <td>Yes</td>
        <td><code>jks</code></td>
        <td>Type of the keystore</td>
      </tr>
      <tr>
        <td><code>CLUSTER_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true to enable clustering. As of now, this will enable session replication across all the nodes in cluster. This means that sticky sessions are not required to be set on load balancer. Typically this kind of replication should not be used if there are large number of nodes in the cluster, but should be okay if only 2-3 nodes are there</td>
      </tr>
      <tr>
        <td><code>CLUSTER_TYPE</code></td>
        <td>Yes</td>
        <td><code>multicast</code></td>
        <td>
          Type of communication to use for clustering. Possible values are <code>multicast</code> or <code>unicast</code>. Multicast is easier to setup as new nodes can join it dynamically, but most of the network providers used in Docker Swarm or Kubernetes do not support multicast networking. In such cases, <code>unicast</code> should be used.
          <p>For <code>multicast</code>, <code>CLUSTER_ADDRESS</code> and <code>CLUSTER_PORT</code> can be provided (or use defaults).</p>
          <p>For <code>unicast</code>, <code>CLUSTER_UNICAST_SIBLINGS</code> must be provided</p>
        </td>
      </tr>
      <tr>
        <td><code>CLUSTER_NODE_NAME</code></td>
        <td>Yes</td>
        <td>Hostname of the container</td>
        <td>Node name is set as <code>jvmRoute</code> in <code>server.xml</code> file of Tomcat. This is normally used by load balancers</td>
      </tr>
      <tr>
        <td><code>CLUSTER_ADDRESS</code></td>
        <td>Yes</td>
        <td><code>228.0.0.4</code></td>
        <td>Mulitcast address to be used for cluster communications. If there are multiple clusters to be created within same network, then combination of this address and port must be unique for each cluster. All nodes within a given cluster must use same address and port</td>
      </tr>
      <tr>
        <td><code>CLUSTER_PORT</code></td>
        <td>Yes</td>
        <td><code>45550</code></td>
        <td>Multicast port to be used for cluster communications</td>
      </tr>
      <tr>
        <td><code>CLUSTER_UNICAST_SIBLINGS</code></td>
        <td>Yes (Mandatory if <code>CLUSTER_TYPE</code> is <code>unicast</code>)</td>
        <td></td>
        <td>For unicast clustering, comma separated list of hostnames of IP addresses of all other nodes in the cluster</td>
      </tr>
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <table>
    <thead>
      <tr>
        <th>Volume</th>
        <th>File Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>dfc.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>bam-server.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>deployment.properties</code></td>
        <td>This is populated using values provided in environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>rest-api-runtime.properties</code></td>
        <td>Modify as required</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>transformation.properties</code></td>
        <td>Modify as required</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/ctsws_config</code></td>
        <td><code>preferences.xml</code></td>
        <td>
          This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables. Also,
          <ul>
            <li>Copy the <code>aek.key</code> file from CTS server (located at <code>$CTS/config</code>) and place it under volume <code>/opt/tomcat/ctsws_config</code></li>
            <li>Copy the <code>mspassword.txt</code> from CTS server (located at <code>$CTS/docbases/&lt;your_docbase&gt;/config/pfile</code>) and place it under volume <code>/opt/tomcat/ctsws_config/pfile</code></li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>


  <hr/>
  <h2 id="xcp-bam">xcp-bam</h2>

  <h3>Description</h3>
  <p>This image is used to run the BAM web application. It uses following base software:</p>
  <ul>
    <li>CentOS 7</li>
    <li>Oracle JRE 8</li>
    <li>Apache Tomcat 8.0.x</li>
  </ul>
  <p>The exact version of each of the above matches the one supported by the patch version of xCP Docker image.</p>

  <h3>Ports</h3>
  <table>
    <thead>
      <tr>
        <th>Port</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>8080</code></td>
        <td>HTTP port for application server</td>
      </tr>
      <tr>
        <td><code>8443</code></td>
        <td>HTTPS port for application server. This will be exposed only if SSL configuration related environment variables are provided</td>
      </tr>
    </tbody>
  </table>

  <h3>Volumes</h3>
  <table>
    <thead>
      <tr>
        <th>Path</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td>Stores the configuration files like <code>dfc.properties</code>, etc.</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/LogConf</code></td>
        <td>Stores the configuration files for configuring BAM DB connection, logging, etc.</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/logs</code></td>
        <td>Stores the log files generated by the app server</td>
      </tr>
    </tbody>
  </table>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>BAM_PASSWORD_ENCRYPTED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true, if values for both <code>BAM_DB_PWD</code> and <code>REPOSITORY_ADMIN_PWD</code> are provided in encrypted form</td>
      </tr>
      <tr>
        <td><code>BAM_DB_TYPE</code></td>
        <td>Yes</td>
        <td><code>postgres</code></td>
        <td>Type of database to store BAM data. Possible values are <code>postgres</code>, <code>oracle</code> or <code>mssql</code></td>
      </tr>
      <tr>
        <td><code>BAM_DB_HOST</code></td>
        <td>Yes</td>
        <td><code>bam-db</code></td>
        <td>Hostname or IP address of the BAM database server</td>
      </tr>
      <tr>
        <td><code>BAM_DB_PORT</code></td>
        <td>Yes</td>
        <td><code>5432</code></td>
        <td>Port of the BAM database server</td>
      </tr>
      <tr>
        <td><code>BAM_DB_NAME</code></td>
        <td>Yes</td>
        <td><code>bamdata</code></td>
        <td>Name of the BAM database</td>
      </tr>
      <tr>
        <td><code>BAM_DB_USER</code></td>
        <td>Yes</td>
        <td><code>bamdba</code></td>
        <td>User name to use for connecting to the BAM database</td>
      </tr>
      <tr>
        <td><code>BAM_DB_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Password to use for connecting to the BAM database. This can be either plaintext or encrypted. If it is encrypted then you must set <code>BAM_PWD_ENCRYPTED</code> value to <code>true</code></td>
      </tr>
      <tr>
        <td><code>BAM_HA_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true, if BAM server has to be started in high availability mode</td>
      </tr>
      <tr>
        <td><code>DOCBASE_NAME</code></td>
        <td>Yes</td>
        <td><code>repo</code></td>
        <td>Name of the docbase repository</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_HOST</code></td>
        <td>Yes</td>
        <td><code>cs</code></td>
        <td>Hostname or IP address of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_PORT</code></td>
        <td>Yes</td>
        <td><code>1489</code></td>
        <td>Port of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_USER</code></td>
        <td>Yes</td>
        <td><code>dm_bof_registry</code></td>
        <td>Global registry user name</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Global registry user password. This can be either plaintext or encrypted</td>
      </tr>
      <tr>
        <td><code>DOCBASE_ADMIN_USER</code></td>
        <td>Yes</td>
        <td><code>dmadmin</code></td>
        <td>Administrator user name for the repository</td>
      </tr>
      <tr>
        <td><code>DOCBASE_ADMIN_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Administrator password for the repository. This can be either plaintext or encrypted. If it is encrypted then you must set <code>BAM_PWD_ENCRYPTED</code> value to <code>true</code></td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_USER</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator user name to be used for Tomcat. No admin user will be added if this is left blank</td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator password to be used for Tomcat. No admin user will be added if this is left blank. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true to enable SSL. If enabled, then you must at least provide values for <code>SSL_KEY_STORE_FILE</code> and <code>SSL_KEY_STORE_PWD</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_FILE</code></td>
        <td>Yes</td>
        <td></td>
        <td>Keystore file for SSL. This file must be placed inside the volume that maps to <code>/opt/tomcat/CustomConf</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Password for the keystore. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_ALIAS</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If keystore contains multiple keys, then this variable should be specified to indicate the Alias for key to be used</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If key alias is provided, then the password for the same. If this is left blank, then key alias configuration is ignored. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_TYPE</code></td>
        <td>Yes</td>
        <td><code>jks</code></td>
        <td>Type of the keystore</td>
      </tr>
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <table>
    <thead>
      <tr>
        <th>Volume</th>
        <th>File Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>dfc.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/LogConf</code></td>
        <td><code>bam.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/LogConf</code></td>
        <td><code>log4j.properties</code></td>
        <td>Modify as required</td>
      </tr>
    </tbody>
  </table>


  <hr/>
  <h2 id="xcp-bps">xcp-bps</h2>

  <h3>Description</h3>
  <p>This image is used to run the Process Integrator (BPS) web application. It uses following base software:</p>
  <ul>
    <li>CentOS 7</li>
    <li>Oracle JRE 8</li>
    <li>Apache Tomcat 8.0.x</li>
  </ul>
  <p>The exact version of each of the above matches the one supported by the patch version of xCP Docker image.</p>

  <h3>Ports</h3>
  <table>
    <thead>
      <tr>
        <th>Port</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>8080</code></td>
        <td>HTTP port for application server</td>
      </tr>
      <tr>
        <td><code>8443</code></td>
        <td>HTTPS port for application server. This will be exposed only if SSL configuration related environment variables are provided</td>
      </tr>
    </tbody>
  </table>

  <h3>Volumes</h3>
  <table>
    <thead>
      <tr>
        <th>Path</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td>Stores the configuration files like <code>dfc.properties</code>, <code>bps_template.xml</code>, etc.</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/LogConf</code></td>
        <td>Stores the configuration files for configuring logging, etc.</td>
      </tr>
      <tr>
        <td><code>/var/bps/msgstore</code></td>
        <td>Stores the message data used by BPS</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/logs</code></td>
        <td>Stores the log files generated by the app server</td>
      </tr>
    </tbody>
  </table>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>DOCBASE_NAME</code></td>
        <td>Yes</td>
        <td><code>repo</code></td>
        <td>Name of the docbase repository</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_HOST</code></td>
        <td>Yes</td>
        <td><code>cs</code></td>
        <td>Hostname or IP address of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_PORT</code></td>
        <td>Yes</td>
        <td><code>1489</code></td>
        <td>Port of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_USER</code></td>
        <td>Yes</td>
        <td><code>dm_bof_registry</code></td>
        <td>Global registry user name</td>
      </tr>
      <tr>
        <td><code>GLOBAL_REGISTRY_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Global registry user password. This can be either plaintext or encrypted</td>
      </tr>
      <tr>
        <td><code>DOCBASE_ADMIN_USER</code></td>
        <td>Yes</td>
        <td><code>dmadmin</code></td>
        <td>Administrator user name for the repository</td>
      </tr>
      <tr>
        <td><code>DOCBASE_ADMIN_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Administrator password for the repository. This can be either plaintext or encrypted. If it is encrypted then you must set <code>BAM_PWD_ENCRYPTED</code> value to <code>true</code></td>
      </tr>
      <tr>
        <td><code>DOCBASE_ADMIN_DOMAIN</code></td>
        <td>Yes</td>
        <td></td>
        <td>Administrator user domain for the repository</td>
      </tr>
      <tr>
        <td><code>BPS_HA_ENABLED</code></td>
        <td>Yes	</td>
        <td><code>false</code></td>
        <td>Set this to <code>true</code>, if BPS server has to be started in high availability mode</td>
      </tr>
      <tr>
        <td><code>BPS_INSTANCE_NAME</code></td>
        <td>Yes	</td>
        <td><code>bps1</code></td>
        <td>Unique instance name for BPS. This is required to be different for each BPS node in an environment</td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_USER</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator user name to be used for Tomcat. No admin user will be added if this is left blank</td>
      </tr>
      <tr>
        <td><code>TOMCAT_ADMIN_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Administrator password to be used for Tomcat. No admin user will be added if this is left blank. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true to enable SSL. If enabled, then you must at least provide values for <code>SSL_KEY_STORE_FILE</code> and <code>SSL_KEY_STORE_PWD</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_FILE</code></td>
        <td>Yes</td>
        <td></td>
        <td>Keystore file for SSL. This file must be placed inside the volume that maps to <code>/opt/tomcat/CustomConf</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Password for the keystore. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_ALIAS</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If keystore contains multiple keys, then this variable should be specified to indicate the Alias for key to be used</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If key alias is provided, then the password for the same. If this is left blank, then key alias configuration is ignored. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_TYPE</code></td>
        <td>Yes</td>
        <td><code>jks</code></td>
        <td>Type of the keystore</td>
      </tr>
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <table>
    <thead>
      <tr>
        <th>Volume</th>
        <th>File Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>dfc.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/CustomConf</code></td>
        <td><code>bps_template.xml</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
      <tr>
        <td><code>/opt/tomcat/LogConf</code></td>
        <td><code>log4j.properties</code></td>
        <td>Modify as required</td>
      </tr>
    </tbody>
  </table>


  <hr/>
  <h2 id="xcp-xda">xcp-xda</h2>

  <h3>Description</h3>
  <p>This image is used to run the xDA application. It uses following base software:</p>
  <ul>
    <li>CentOS 7</li>
    <li>Oracle JRE 8</li>
  </ul>
  <p>The exact version of each of the above matches the one supported by the patch version of xCP Docker image.</p>

  <h3>Ports</h3>
  <table>
    <thead>
      <tr>
        <th>Port</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>7000</code></td>
        <td>HTTP port for the server. If SSL is enabled then this would use HTTPS protocol.</td>
      </tr>
    </tbody>
  </table>

  <h3>Volumes</h3>
  <table>
    <thead>
      <tr>
        <th>Path</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/xDA/catalog</code></td>
        <td>Stores the environment catalog data configured by the user</td>
      </tr>
      <tr>
        <td><code>/opt/xDA/config</code></td>
        <td>Stores the configuration files for xDA</td>
      </tr>
      <tr>
        <td><code>/opt/xDA/logs</code></td>
        <td>Stores the log files generated by the server</td>
      </tr>
    </tbody>
  </table>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>ADMIN_PASSWORD</code></td>
        <td>Yes</td>
        <td></td>
        <td>Used to set password for xDA's admin user. Password must be at least 8 characters long and must contain at least 1 non-letter character.</br> Currently this property is supported only in HTTP mode.</td>
      </tr>
      <tr>
        <td><code>SSL_ENABLED</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>Set this to true to enable SSL. If enabled, then you must at least provide values for <code>SSL_KEY_STORE_FILE</code> and <code>SSL_KEY_STORE_PWD</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_FILE</code></td>
        <td>Yes</td>
        <td></td>
        <td>Keystore file for SSL. This file must be placed inside the volume that maps to <code>/opt/xDA/config</code></td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>Password for the keystore. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_ALIAS</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If keystore contains multiple keys, then this variable should be specified to indicate the Alias for key to be used</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_PWD</code></td>
        <td>Yes	</td>
        <td></td>
        <td>If key alias is provided, then the password for the same. If this is left blank, then key alias configuration is ignored. This must be plaintext</td>
      </tr>
      <tr>
        <td><code>SSL_KEY_STORE_TYPE</code></td>
        <td>Yes</td>
        <td><code>jks</code></td>
        <td>Type of the keystore</td>
      </tr>
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <table>
    <thead>
      <tr>
        <th>Volume</th>
        <th>File Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/xDA/config</code></td>
        <td><code>xda-config.properties</code></td>
        <td>This is populated using values provided in environment variables. It can be modified further for other properties which are not exposed as environment variables</td>
      </tr>
    </tbody>
  </table>


  <hr/>
  <h2 id="xcp-xda-tools">xcp-xda-tools</h2>

  <h3>Description</h3>
  <p>This image is used to run the xDA Tools. It will open interactive <code>bash</code> shell, so this image must always be run using <code>-it</code> option of <code>docker run</code> command. User can run <code>xda.sh</code> to start xDA Tools. User can also write/copy any xDA scripts if required and execute from the shell.</p>
  <p> It uses following base software:</p>
  <ul>
    <li>CentOS 7</li>
    <li>Oracle JRE 8</li>
  </ul>
  <p>The exact version of each of the above matches the one supported by the patch version of xCP Docker image.</p>

  <h3>Ports</h3>
  <p>NA</p>

  <h3>Volumes</h3>
  <p>NA</p>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>XDA_SERVER_PROTOCOL</code></td>
        <td>Yes</td>
        <td><code>http</code></td>
        <td>Protocol to connect to xDA server. Possible values are <code>http</code> or <code>https</code></td>
      </tr>
      <tr>
        <td><code>XDA_SERVER_HOST</code></td>
        <td>Yes</td>
        <td><code>xda</code></td>
        <td>Hostname or IP address of xDA server</td>
      </tr>
      <tr>
        <td><code>XDA_SERVER_PORT</code></td>
        <td>Yes	</td>
        <td><code>7000</code></td>
        <td>Port of xDA server to connect to</td>
      </tr>
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <table>
    <thead>
      <tr>
        <th>Volume</th>
        <th>File Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/opt/xda-tools/config</code></td>
        <td><code>xda.properties</code></td>
        <td>This is populated using values provided in environment variables</td>
      </tr>
    </tbody>
  </table>


  <hr/>
  <h2 id="xcp-cs-setup">xcp-cs-setup</h2>

  <h3>Description</h3>
  <p>This image is used only once while setting up the xCP environment. It installs xCP components on the Content Server and Independent Java Method Server(IJMS) machines:</p>
  <ul>
    <li>Install Process Engine - It installs Process Engine on CS. It also installs Process Engine on IJMS if <code>Is_IJMS</code> has been set to true.</li>
    <li>Install xCP related DAR files - It installs DAR files on CS machine</li>
  </ul>
  <p>It can also optionally install any other DAR files that user might want as part of the environment. Refer to volume desicription for <code>/extra_dars</code>. For example, this can be used to install CTS DAR files to avoid manually installing the same separately while setting up CTS server.</p>
  <p>It uses CentOS 7 as the base OS, and includes compatible version of Documentum Composer which is used to install the DAR files.</p>

  <h3>Ports</h3>
  <p>NA</p>

  <h3>Volumes</h3>
  <table>
    <thead>
      <tr>
        <th>Path</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/cs-bpm</code></td>
        <td>The following path on CS machine should be externalized and then mounted as volume in this container: <code>/opt/dctm/wildfly9.0.1/server/DctmServer_MethodServer/deployments/bpm.ear</code>
		<br>In case of IJMS the path should be: 
		<code>/opt/dctm_docker/jms/wildfly9.0.1/server/DctmServer_MethodServerHA1/deployments/bpm.ear</code></td>
      </tr>
      <tr>
        <td><code>/cs-dba</code></td>
        <td>The following path on CS machine should be externalized and then mounted as volume in this container: <code>/opt/dctm/dba</code></td>
      </tr>
      <tr>
        <td><code>/cs-mdserver-conf</code></td>
        <td>The following path on CS machine should be externalized and then mounted as volume in this container: <code>/opt/dctm/mdserver_conf</code>
		<br>In case of IJMS the path should be:
		<code>/opt/dctm_docker/mdserver_conf</code></td>		
      </tr>
      <tr>
        <td><code>/extra_dars</code></td>
        <td>You can put any other DAR files that you might want to install as part of the setup under this volume. DAR files will be picked up in alphabetical order for installation</td>
      </tr>
    </tbody>
  </table>

  <h3>Environment Variables</h3>
  <table>
    <thead>
      <tr>
        <th>Environment Variable</th>
        <th>Optional</th>
        <th>Default Value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>DOCBASE_NAME</code></td>
        <td>Yes</td>
        <td><code>repo</code></td>
        <td>Name of the docbase repository</td>
      </tr>
      <tr>
        <td><code>DOCBASE_OWNER</code></td>
        <td>Yes</td>
        <td><code>dmadmin</code></td>
        <td>User name of the repository owner</td>
      </tr>
      <tr>
        <td><code>DOCBASE_OWNER_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>password</code></td>
        <td>Password for the repository owner</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_HOST</code></td>
        <td>Yes</td>
        <td><code>cs</code></td>
        <td>Hostname or IP address of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>DOCBROKER_PORT</code></td>
        <td>Yes</td>
        <td><code>1489</code></td>
        <td>Port of the Docbroker to connect to</td>
      </tr>
      <tr>
        <td><code>JMS_HOST</code></td>
        <td>Yes</td>
        <td><code>cs</code></td>
        <td>Hostname or IP address of the Method Server to connect to</td>
      </tr>
      <tr>
        <td><code>JMS_REMOTE_PORT</code></td>
        <td>Yes</td>
        <td><code>9084</code></td>
        <td>Management port of the Method Server for remote connection</td>
      </tr>
	  <tr>
        <td><code>JMS_PORT</code></td>
        <td>Yes</td>
        <td><code>9080</code></td>
        <td>Port of the Method Server to connect to</td>
      </tr>
      <tr>
        <td><code>JMS_USER</code></td>
        <td>Yes</td>
        <td><code>admin</code></td>
        <td>Administrator user name of the Method Server</td>
      </tr>
      <tr>
        <td><code>JMS_PASSWORD</code></td>
        <td>Yes</td>
        <td><code>jboss</code></td>
        <td>Password for the user of the Method Server </td>
      </tr>
	  <tr>
        <td><code>IS_IJMS</code></td>
        <td>Yes</td>
        <td><code>false</code></td>
        <td>To specify if this image is being used to install xCP components on IJMS</td>
      </tr>
	  <tr>
        <td><code>GLOBAL_REGISTRY_USER</code></td>
        <td>Yes</td>
        <td></td>
        <td>Global registry user name. This is required only if <code>IS_IJMS</code> is set to true</td>
      </tr>
	  <tr>
        <td><code>GLOBAL_REGISTRY_PASSWORD</code></td>
        <td>Yes</td>
        <td></td>
        <td>Global registry user password. This can be either plaintext or encrypted. This is required only if <code>IS_IJMS</code> is set to true</td>
      </tr>
	   <tr>
        <td><code>GLOBAL_REGISTRY_DOCBASE</code></td>
        <td>Yes</td>
        <td></td>
        <td>Global registry docbase. This is required only if <code>IS_IJMS</code> is set to true</td>
      </tr>
	  <tr>
        <td><code>DOCKER_HOST</code></td>
        <td>Yes</td>
        <td></td>
        <td>It’s the IP address or fully qualified name of the  docker host machine where CS is running. This is required only if <code>IS_IJMS</code> is set to false</td>
      </tr>
	  
    </tbody>
  </table>

  <h3>Configuration Files</h3>
  <p>NA</p>

</body>

</html>
